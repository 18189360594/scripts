Before using the tools in this directory, make sure to edit dist-module.pl
so that it shows your sourceforge userid in place of 
"dmrrsn@fink.cvs.sourceforge.net".

Q: How do I make a new source release of the Fink package manager?

A: Assume you want to release fink 0.31.2, you first need to get the "xml"
module from the fink cvs. It will contain subdirectories called "fink" and 
"scripts".  In the following I assume you are in the "xml" directory.

You need to ensure that your checkout of the "fink" directory is using
the current release branch, which would be branch_0_31 in the example.

 cd fink
   ->  edit VERSION so that it contains "0.31.1.cvs"
   -> now edit the ChangeLog as well
 cvs commit
 cvs tag release_0_31_1
 cd ../scripts/srcdist
 ./dist-module.pl fink 0.31.1

This will create the file /tmp/fink-0.31.1.tar.gz, and also various files
such as /tmp/fink-10.7.info .

The file fink-0.31.1.tar.gz now needs to be uploaded to the Sourceforge
File Release System.  (The instructions for that change rather frequently
so they are not given here.  Ask on the #fink IRC channel or the
fink-core mailing list.)

Once fink-0.31.1.tar.gz has propagated to the Sourceforge FRS mirrors,
test things using fink-10.7.info (or whatever the appropriate file is for
your OS X version) on your local system.  Assuming all is OK, you can commit
the various fink-NN.info files to their appropriate locations.

---------------------------------------------------------------------------------
Q: What about releasing other modules, such as base-files?

A: Done in exactly the same way.
---------------------------------------------------------------------------------

Q: How do I make a full distribution source release?

A: Assume you want to release the distribution release 0.7.1, under 
distribution 10.3, and also assume that the current version of the package 
manager is 0.21.2. 

In the following I assume you are in the directory containing the checkouts.


  cd dists/10.3
  echo "0.7.1.cvs" >VERSION
   -> now edit the ChangeLog as well
  cvs commit
  cvs tag release_0_7_1
  cd ../scripts/srcdist
  ./dist-module.sh dists/10.3 0.7.1
    -> this produces /tmp/dists-10.3-0.7.1.tar.gz
  ./dist-full.sh 0.7.1 0.21.2 10.3
    -> this produces /tmp/fink-0.7.1-full.tar.gz

---------------------------------------------------------------------------------

This HOWTO was written by Max Horn, largely based on some instructions given
by Christoph Pfisterer. Use at your own risk.  Modified by Dave Morrison.
